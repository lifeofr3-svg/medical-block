services:
  - type: web
    name: blockchain-medical-app
    runtime: python
    plan: free  # Upgrade to 'starter' ($7/mo) for 512MB+ RAM if needed
    buildCommand: pip install -r requirements.txt
    startCommand: gunicorn app:app --bind 0.0.0.0:$PORT --timeout 180 --workers 1 --max-requests 100 --max-requests-jitter 20
    envVars:
      - key: SECRET_KEY
        generateValue: true
      - key: FLASK_ENV
        value: production
      # Alchemy Configuration
      - key: ALCHEMY_API_KEY
        sync: false  # Set this in Render dashboard
      - key: BLOCKCHAIN_NETWORK
        value: sepolia  # Use 'mainnet' for production
      # Your Wallet Credentials (Set in Render dashboard)
      - key: ACCOUNT_ADDRESS
        sync: false  # Set your wallet address in Render dashboard
      - key: PRIVATE_KEY
        sync: false  # Set your private key in Render dashboard (KEEP SECRET!)
