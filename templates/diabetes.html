<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diabetes Detection</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="navbar">
        <div class="navbar-content">
            <h2>Medical Prediction System</h2>
            <div class="user-info">
                <span>Welcome, {{ user_name }}</span>
                <a href="{{ url_for('logout') }}" class="logout-btn">Logout</a>
            </div>
        </div>
    </div>

    <div class="container">
        <a href="{{ url_for('index') }}" class="back-btn">‚Üê Back to Home</a>
        
        <h1>Diabetes Detection System</h1>
        <p class="subtitle">Enter patient vitals and upload retinal scan image</p>
        
        <div class="form-container">
            <form id="diabetesForm" enctype="multipart/form-data" onsubmit="event.preventDefault(); submitDiabetesForm();">
                <div class="form-group">
                    <label for="patient_id">Patient ID</label>
                    <input type="text" id="patient_id" name="patient_id" value="PATIENT_001" required>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="pregnancies">Pregnancies (0-17)</label>
                        <input type="number" id="pregnancies" name="pregnancies" min="0" max="17" step="1" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="glucose">Glucose Level (0-199)</label>
                        <input type="number" id="glucose" name="glucose" min="0" max="199" step="1" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="blood_pressure">Blood Pressure (0-122)</label>
                        <input type="number" id="blood_pressure" name="blood_pressure" min="0" max="122" step="1" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="skin_thickness">Skin Thickness (0-99)</label>
                        <input type="number" id="skin_thickness" name="skin_thickness" min="0" max="99" step="1" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="insulin">Insulin (0-846)</label>
                        <input type="number" id="insulin" name="insulin" min="0" max="846" step="1" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="bmi">BMI (0-67.1)</label>
                        <input type="number" id="bmi" name="bmi" min="0" max="67.1" step="0.1" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="diabetes_pedigree">Diabetes Pedigree Function (0.078-2.42)</label>
                        <input type="number" id="diabetes_pedigree" name="diabetes_pedigree" min="0.078" max="2.42" step="0.001" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="age">Age (21-81)</label>
                        <input type="number" id="age" name="age" min="21" max="81" step="1" required>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="image_file">Retinal Scan Image</label>
                    <input type="file" id="image_file" name="image_file" accept="image/*" required>
                    <p style="color: #666; font-size: 0.9em; margin-top: 5px;">
                        Upload fundus/retinal image (PNG, JPG)
                    </p>
                </div>
                
                <button type="submit" class="submit-btn" id="submitBtn">Analyze & Predict</button>
            </form>
            
            <div class="loading" id="loading">
                <p>Processing medical data and recording on blockchain...</p>
            </div>
            
            <div class="result-container" id="resultContainer"></div>
        </div>
    </div>
    
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>